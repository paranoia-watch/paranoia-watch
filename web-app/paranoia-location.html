<link rel="import" href="paranoia-percentage.html">
<dom-module id="paranoia-location">
  <template>
    <style>
      :host {
        display: inline-flex;
        display: -webkit-inline-flex;
        flex-direction: column;
        -webkit-flex-direction: column;
        align-items: center;
        justify-content: center;
        -webkit-justify-content: center;
        padding-top: 50px;
      }
      paranoia-percentage {
        flex: 1;
      }
      :host[stage='<0'] {
        background: linear-gradient(to bottom, #96AAFF 48%, rgba(0,0,0,0));
      }
      :host[stage='0-50'] {
        background: linear-gradient(to bottom, #FFD800 48%, rgba(0,0,0,0));
      }
      :host[stage='50-100'] {
        background: linear-gradient(to bottom, #FF8600 48%, rgba(0,0,0,0));
      }
      :host[stage='>100'] {
        background: linear-gradient(to bottom, #FF0000 48%, rgba(0,0,0,0));
      }
      h1 {
        text-transform: uppercase;
      }
    </style>
    <paranoia-percentage n="[[percentage]]"></paranoia-percentage>
    <h1>[[name]]</h1>
  </template>
  <script>
    Polymer({
      is: 'paranoia-location',
      properties: {
        stage: {
          computed: 'computeStage(percentage)',
          reflectToAttribute: true
        },
        percentage: {
          type: Number,
          reflectToAttribute: true
        }
      },
      computeStage: function (percentage) {
        if (percentage <= 0) return '<0'
        if (percentage >= 0 && percentage <= 50) return '0-50'
        if (percentage >= 50 && percentage <= 100) return '50-100'
        if (percentage >= 100) return '>100'
      },
    });
  </script>
</dom-module>
